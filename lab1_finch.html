<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>3. Finches dataset</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Organismal Biology</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="lab1.html">Data Lab 1</a>
</li>
<li>
  <a href="lab2.html">Data Lab 2</a>
</li>
<li>
  <a href="bird_banding.html">Bird Banding</a>
</li>
<li>
  <a href="free.html">FREE</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">3. Finches dataset</h1>

</div>


<p>In Part 3 of this lab, you will be introduced to R scripts. You will use the Finches dataset to learn how to read a tabular dataset into R, inspect it, and perform basic statistical summaries on it. You will estimate means, standard deviations, standard errors of the mean, and confidence intervals around the mean. You will also learn how to plot histograms and barplots.</p>
<div id="dowload-the-data" class="section level3">
<h3>Dowload the data</h3>
<p>Download the data and save it in the project directory (folder). For example, if you created your <strong>Lab 1</strong> project in the **H:** directory, then save the data file to <code>H:\Lab 1</code>.</p>
<p><a href="finches_data.xlsx" class="btn btn-default">Download</a></p>
<p>[what if it doesn’t give you an option for where to download the data?]</p>
</div>
<div id="reading-data-into-r" class="section level3">
<h3>Reading data into R</h3>
<p>This requires installing some packages in R, which let you use functions not found in the standard R installation.</p>
<p>To download package, click the <strong>Package</strong> tab to the right and click <strong>Install</strong>. Type the name of the package, <code>tidyverse</code>, and click <strong>Install</strong>. You only have to do this once on each computer you are using.</p>
<p>Now you’re ready to load the packages.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(readxl)                <span class="co"># load readxl, for reading Excel files</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(tidyverse)             <span class="co"># load tidyverse, for working with datasets</span></a></code></pre></div>
<pre><code>## Warning: package &#39;tidyverse&#39; was built under R version 3.5.1</code></pre>
<pre><code>## -- Attaching packages ------------------------------------------ tidyverse 1.2.1 --</code></pre>
<pre><code>## v ggplot2 2.2.1.9000     v purrr   0.2.5     
## v tibble  1.4.2          v dplyr   0.7.5     
## v tidyr   0.8.1          v stringr 1.3.1     
## v readr   1.1.1          v forcats 0.3.0</code></pre>
<pre><code>## -- Conflicts --------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<p>You will see a warning and some messages when you run this code, but those can be safely ignored for now.</p>
<p>Read the data.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">finches &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;finches_data.xlsx&quot;</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">finches</a></code></pre></div>
<pre><code>## # A tibble: 100 x 12
##     band species     sex   first_adult_year last_year outcome weight  wing
##    &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
##  1     9 Geospiza f~ unkn~             1975      1977 died      14.5  67  
##  2    12 Geospiza f~ fema~             1975      1977 died      13.5  66  
##  3   276 Geospiza f~ unkn~             1976      1977 died      16.4  64.2
##  4   278 Geospiza f~ unkn~             1976      1977 died      18.5  67.2
##  5   283 Geospiza f~ male              1976      1977 died      17.4  70.2
##  6   288 Geospiza f~ unkn~             1976      1977 died      16.3  71.2
##  7   293 Geospiza f~ unkn~             1976      1977 died      15.7  67.2
##  8   294 Geospiza f~ unkn~             1976      1977 died      16.8  68.2
##  9   298 Geospiza f~ male              1976      1977 died      15.5  68.2
## 10   307 Geospiza f~ male              1975      1977 died      17.5  70  
## # ... with 90 more rows, and 4 more variables: tarsus &lt;dbl&gt;,
## #   beak_length &lt;dbl&gt;, beak_depth &lt;dbl&gt;, beak_width &lt;dbl&gt;</code></pre>
<p>Explain what they are seeing</p>
<p>Show ways to view the data:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">glimpse</span>(finches)</a></code></pre></div>
<pre><code>## Observations: 100
## Variables: 12
## $ band             &lt;dbl&gt; 9, 12, 276, 278, 283, 288, 293, 294, 298, 307...
## $ species          &lt;chr&gt; &quot;Geospiza fortis&quot;, &quot;Geospiza fortis&quot;, &quot;Geospi...
## $ sex              &lt;chr&gt; &quot;unknown&quot;, &quot;female&quot;, &quot;unknown&quot;, &quot;unknown&quot;, &quot;m...
## $ first_adult_year &lt;dbl&gt; 1975, 1975, 1976, 1976, 1976, 1976, 1976, 197...
## $ last_year        &lt;dbl&gt; 1977, 1977, 1977, 1977, 1977, 1977, 1977, 197...
## $ outcome          &lt;chr&gt; &quot;died&quot;, &quot;died&quot;, &quot;died&quot;, &quot;died&quot;, &quot;died&quot;, &quot;died...
## $ weight           &lt;dbl&gt; 14.50, 13.50, 16.44, 18.54, 17.44, 16.34, 15....
## $ wing             &lt;dbl&gt; 67.00, 66.00, 64.19, 67.19, 70.19, 71.19, 67....
## $ tarsus           &lt;dbl&gt; 18.00, 18.30, 18.47, 19.27, 19.27, 20.27, 17....
## $ beak_length      &lt;dbl&gt; 9.20, 9.50, 9.93, 11.13, 12.13, 10.63, 9.93, ...
## $ beak_depth       &lt;dbl&gt; 8.3, 7.5, 8.0, 10.6, 11.2, 9.1, 9.5, 10.5, 8....
## $ beak_width       &lt;dbl&gt; 8.1, 7.5, 7.6, 9.4, 9.5, 8.8, 8.9, 9.1, 8.2, ...</code></pre>
</div>
<div id="plotting-a-histogram" class="section level3">
<h3>Plotting a histogram</h3>
<p>Plotting is most easily accomplished using the <code>ggplot()</code> function and its associated helper functions.</p>
<p>For example, to plot a histogram of the <code>beak_length</code> variable, use the following code. In this example, you will set the x axis to <code>beak_length</code> and setting the number of bins to use for the histogram to <code>12</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">ggplot</span>(finches, <span class="kw">aes</span>(<span class="dt">x =</span> beak_length)) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">12</span>)</a></code></pre></div>
<p><img src="lab1_finch_files/figure-html/unnamed-chunk-4-1.png" width="672" /> You can plot histograms of other columns by changing the <code>x =</code> part of the code.</p>
<p>You can also experiment with different numbers of bins. The goal is to have enough that you can see a hump-shaped distribution, but not so many that you have too many bins with few or no observations. Try plotting a histogram with 50 bins, and another with 3 bins. Not very informational, are they?</p>
<p>Sometimes we want to plot separate histograms for differet subsets of the data. One easy way to do this is with the <code>facet_wrap()</code> function in ggplot. Note that you have to add a <code>+</code> operator after the <code>geom_histogram()</code> line.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">ggplot</span>(</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">  <span class="dt">data =</span> finches, </a>
<a class="sourceLine" id="cb11-3" data-line-number="3">  <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> beak_length, <span class="dt">color =</span> outcome)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">14</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>outcome, <span class="dt">ncol =</span> <span class="dv">1</span>)</a></code></pre></div>
<p><img src="lab1_finch_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>The last thing you might want to do is spruce up your plot with a title and better axis labels. This is done with the <code>labs()</code> function:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">ggplot</span>(</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">  <span class="dt">data =</span> finches, </a>
<a class="sourceLine" id="cb12-3" data-line-number="3">  <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> beak_length, <span class="dt">fill =</span> outcome)</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">14</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>outcome, <span class="dt">ncol =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb12-8" data-line-number="8">    <span class="dt">x =</span> <span class="st">&quot;Beak Length (mm)&quot;</span>,</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">    <span class="dt">y =</span> <span class="st">&quot;Number of Birds&quot;</span>,</a>
<a class="sourceLine" id="cb12-10" data-line-number="10">    <span class="dt">title =</span> <span class="st">&quot;Beak Length and Survival&quot;</span>,</a>
<a class="sourceLine" id="cb12-11" data-line-number="11">    <span class="dt">subtitle =</span> <span class="st">&quot;Among medium ground finch (Geospiza fortis) survival on Daphne Major&quot;</span>,</a>
<a class="sourceLine" id="cb12-12" data-line-number="12">    <span class="dt">caption =</span> <span class="st">&quot;Data source: HHMI Lab Evolution in Action: Data Analysis&quot;</span>)</a></code></pre></div>
<p><img src="lab1_finch_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<div id="export-your-figure" class="section level4">
<h4>Export your figure</h4>
<p>To use your figure in a Microsoft Word document, PowerPoint presentation, or other software, you first need to save the image. The most reproducible way to do so is to use the <code>ggsave()</code> function.</p>
<p>By default, <code>ggsave()</code> will save the last plot displayed, so make sure the plot you want to save is displayed in the <strong>Plots</strong> tab in the bottom right panel before running this code.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">ggsave</span>(<span class="st">&quot;Beak Length Histogram.png&quot;</span>, </a>
<a class="sourceLine" id="cb13-2" data-line-number="2">       <span class="dt">width =</span> <span class="fl">6.5</span>, <span class="dt">height =</span> <span class="fl">6.5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>)</a></code></pre></div>
</div>
</div>
<div id="summarizing-datasets" class="section level3">
<h3>Summarizing datasets</h3>
<p>Scientists often want a quick summary of a dataset. The <code>summary()</code> function provides just that, and is especially useful for seeing summary statistics of numerical variables. Running this function prints a summary to the console, with the minimum value, median value, mean, maximum value, and first and third quartiles given for each numerical variable:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">summary</span>(finches)</a></code></pre></div>
<pre><code>##       band          species              sex            first_adult_year
##  Min.   :   9.0   Length:100         Length:100         Min.   :1973    
##  1st Qu.: 421.5   Class :character   Class :character   1st Qu.:1975    
##  Median : 613.5   Mode  :character   Mode  :character   Median :1975    
##  Mean   :1174.0                                         Mean   :1975    
##  3rd Qu.:1588.2                                         3rd Qu.:1976    
##  Max.   :8191.0                                         Max.   :1976    
##    last_year      outcome              weight           wing      
##  Min.   :1977   Length:100         Min.   :13.00   Min.   :64.00  
##  1st Qu.:1977   Class :character   1st Qu.:15.00   1st Qu.:67.00  
##  Median :1978   Mode  :character   Median :16.24   Median :68.19  
##  Mean   :1978                      Mean   :16.35   Mean   :68.54  
##  3rd Qu.:1978                      3rd Qu.:17.44   3rd Qu.:70.25  
##  Max.   :1982                      Max.   :21.24   Max.   :74.01  
##      tarsus       beak_length      beak_depth       beak_width    
##  Min.   :17.05   Min.   : 8.70   Min.   : 7.500   Min.   : 7.400  
##  1st Qu.:18.49   1st Qu.:10.20   1st Qu.: 8.795   1st Qu.: 8.200  
##  Median :19.13   Median :10.80   Median : 9.305   Median : 8.600  
##  Mean   :19.19   Mean   :10.79   Mean   : 9.392   Mean   : 8.641  
##  3rd Qu.:20.00   3rd Qu.:11.25   3rd Qu.:10.100   3rd Qu.: 9.055  
##  Max.   :21.06   Max.   :12.73   Max.   :11.210   Max.   :10.070</code></pre>
<p>If we want to do anything more than, then we need to use functions provided in the tidyverse to summarize the data. The following code will summarize a dataset by calculating the mean, standard deviation, standard error of the mean (SEM), and 95% confidence intervals of the <code>beak_length</code> variable.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">summary &lt;-<span class="st"> </span>finches <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(beak_length),</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">            <span class="dt">sd =</span> <span class="kw">sd</span>(beak_length),</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">            <span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sem =</span> sd <span class="op">/</span><span class="st"> </span><span class="kw">sqrt</span>(n),</a>
<a class="sourceLine" id="cb16-6" data-line-number="6">         <span class="dt">upper =</span> mean <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>sem,</a>
<a class="sourceLine" id="cb16-7" data-line-number="7">         <span class="dt">lower =</span> mean <span class="op">-</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>sem)</a>
<a class="sourceLine" id="cb16-8" data-line-number="8">summary</a></code></pre></div>
<pre><code>## # A tibble: 1 x 6
##    mean    sd     n    sem upper lower
##   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  10.8 0.819   100 0.0819  11.0  10.6</code></pre>
<p>If we wanted to get separate summaries for different subsets of the data, we can add the <code>group_by()</code> function like this:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">grouped_summary &lt;-<span class="st"> </span>finches <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(outcome) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(beak_length),</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">            <span class="dt">sd =</span> <span class="kw">sd</span>(beak_length),</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">            <span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">sem =</span> sd <span class="op">/</span><span class="st"> </span><span class="kw">sqrt</span>(n),</a>
<a class="sourceLine" id="cb18-7" data-line-number="7">         <span class="dt">upper =</span> mean <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>sem,</a>
<a class="sourceLine" id="cb18-8" data-line-number="8">         <span class="dt">lower =</span> mean <span class="op">-</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>sem)</a>
<a class="sourceLine" id="cb18-9" data-line-number="9">grouped_summary</a></code></pre></div>
<pre><code>## # A tibble: 2 x 7
##   outcome   mean    sd     n    sem upper lower
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 died      10.5 0.698    50 0.0987  10.7  10.3
## 2 survived  11.1 0.840    50 0.119   11.3  10.8</code></pre>
<p>To plot these means and confidence intervals:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">ggplot</span>(</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">  <span class="dt">data =</span> grouped_summary, </a>
<a class="sourceLine" id="cb20-3" data-line-number="3">  <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> outcome, <span class="dt">y =</span> mean, <span class="dt">fill =</span> outcome)</a>
<a class="sourceLine" id="cb20-4" data-line-number="4">) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_errorbar</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> lower, <span class="dt">ymax =</span> upper), <span class="dt">width =</span> <span class="fl">.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb20-8" data-line-number="8">    <span class="dt">x =</span> <span class="st">&quot;Survival Outcome&quot;</span>,</a>
<a class="sourceLine" id="cb20-9" data-line-number="9">    <span class="dt">y =</span> <span class="st">&quot;Beak Length (mm)&quot;</span>,</a>
<a class="sourceLine" id="cb20-10" data-line-number="10">    <span class="dt">title =</span> <span class="st">&quot;Mean beak lengths vs. survival&quot;</span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11">  )</a></code></pre></div>
<p><img src="lab1_finch_files/figure-html/unnamed-chunk-11-1.png" width="384" /></p>
<div id="export-your-figure-1" class="section level4">
<h4>Export your figure</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">ggsave</span>(<span class="st">&quot;Beak Length Histogram.png&quot;</span>, </a>
<a class="sourceLine" id="cb21-2" data-line-number="2">       <span class="dt">width =</span> <span class="dv">3</span>, <span class="dt">height =</span> <span class="dv">3</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>)</a></code></pre></div>
</div>
</div>
<div id="t-test" class="section level3">
<h3>t-test</h3>
<p>Plotting the means and confidence intervals of measurements in the two groups of birds is an important step in data analysis. To perform a more rigourous comparison, however, you may run a t-test to tell if the difference in means is likely due to chance (i.e. sampling error) or not.</p>
<p>The t-test function in R is a bit picky… it requires you to give it two arguments: a vector of measurements for one group and another vector of measurements for the other group. To do this, you must perform three steps:</p>
<ol style="list-style-type: decimal">
<li>Create a vector of beak lengths for birds that died.</li>
<li>Create a vector of beak lengths for birds that survived.</li>
<li>Compare the two vectors using a t-test.</li>
</ol>
<p>STEP 1: The following code will take a dataset, in this case <code>finches</code>, remove rows that do not meet a given criteria, and extract the column of interest as a vector, and store the result as a new object named <code>beak_length_died</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">beak_length_died &lt;-</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="st">  </span>finches <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(outcome <span class="op">==</span><span class="st"> &quot;died&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="st">  </span><span class="kw">pull</span>(beak_length)</a>
<a class="sourceLine" id="cb22-5" data-line-number="5">beak_length_died  <span class="co"># print the new object in the console</span></a></code></pre></div>
<pre><code>##  [1]  9.20  9.50  9.93 11.13 12.13 10.63  9.93 11.33  9.93 11.10 10.80
## [12]  9.70 10.60  9.60 10.50  9.90  9.60 10.70  9.30 10.10  9.70 11.00
## [23] 11.00 11.60 10.50 10.20  9.70 11.10 11.10 10.20 10.80 10.00 11.10
## [34] 10.30 11.10 10.50 11.00 10.00 10.30 11.70 10.20 10.90 11.90 10.20
## [45] 10.50 10.50  9.80 11.80 11.00 10.30</code></pre>
<p>STEP 2: Now copy that code and change “died” to “survived” in your object name, so <code>beak_length_survived</code>, and in the filter criteria, so <code>outcome == &quot;survived&quot;</code>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">beak_length_survived &lt;-</a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="st">  </span>finches <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(outcome <span class="op">==</span><span class="st"> &quot;survived&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="st">  </span><span class="kw">pull</span>(beak_length)</a>
<a class="sourceLine" id="cb24-5" data-line-number="5">beak_length_survived</a></code></pre></div>
<pre><code>##  [1] 11.50 10.20 12.10 11.60 10.30 11.40  8.70  9.90 10.20 10.30 11.43
## [12] 11.93 11.03 10.63 10.83 11.23 11.23 10.23 11.63 12.23 11.03 11.13
## [23] 10.93 11.03 10.23 11.33 10.03 10.70 10.00 12.43 11.09  9.63 11.60
## [34] 11.30 12.13 12.03 10.63 11.83 12.43 12.73 10.33 11.03 12.53 12.13
## [45] 10.43 10.53 11.23 11.23 10.90 10.50</code></pre>
<p>STEP 3: Perform a t-test using the <code>t.test()</code> function:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">t.test</span>(beak_length_died, beak_length_survived)</a></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  beak_length_died and beak_length_survived
## t = -3.6335, df = 94.807, p-value = 0.0004539
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -0.8681443 -0.2546557
## sample estimates:
## mean of x mean of y 
##   10.5122   11.0736</code></pre>
<p>The two numbers to focus on here are the <strong>p-value</strong> and the <strong>95% confidence interval</strong>.</p>
<p>The <em>p</em>-value tells you what proportion of the time you would expect to find a difference in population like these two if they were in fact the same. Scientists generally use a cutoff (or <em>alpha level</em>) of 0.05 to determine if a difference is “statistically significant”. In this case, a <em>p</em>-value of 0.0004539 is much lower than 0.05, so we can reject our null hypothesis and accept our alternative hypothesis that the true difference in means is not equal to 0.</p>
<p>As further evidence that the difference between the means is not equal to zero, you can see that the 95% confidence interval does not include zero.</p>
<p>To report the findings of a t-test, you say [ALISON WHAT DID YOU TELL THEM?]</p>
<p>[add link to a SEM explainer]</p>
<p>When you’re ready, you can move on to Part 4.</p>
<div id="part-4.-bluestem-dataset" class="section level4">
<h4><a href="lab1_bluestem.html">Part 4. Bluestem dataset →</a></h4>
</div>
</div>

<div class="footer">
  <p>Copyright &copy; 2018 Chris Merkord. All rights reserved.</p>
</div>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
